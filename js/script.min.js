function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e&&document.querySelector("body").classList.add("webp")}));let slideUp=(e,t=400)=>{e.classList.contains("-anim")||(e.classList.add("-anim"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("-anim")}),t))},slideDown=(e,t=400)=>{if(!e.classList.contains("-anim")){e.classList.add("-anim"),e.hidden&&(e.hidden=!1);let r=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=r+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("-anim")}),t)}},slideToggle=(e,t=400)=>e.hidden?slideDown(e,t):slideUp(e,t);class Spoller{init(){if(this.objects=[],this.elements=document.querySelectorAll("[data-spoller]"),this.elements.length>0){for(let e=0;e<this.elements.length;e++){const t=this.elements[e],r=[];r.element=t,r.dataAttr=r.element.dataset.spoller,r.openner=r.element.querySelectorAll("[data-spoller-openner]"),r.activeOpenner=r.element.querySelectorAll("[data-spoller-openner].-open"),r.typeMedia=r.dataAttr.includes("max")||r.dataAttr.includes("min"),r.oneSpoller=r.element.hasAttribute("data-one-spoller"),this.objects.push(r)}this.objects.forEach((e=>{let t;if(e.typeMedia){const r=e.dataAttr.split(":").map((e=>e.trim()));t=window.matchMedia(`(${r[0]}-width:${r[1]}px)`)}else{const r=e.dataAttr.split("-").map((e=>e.trim()));t=window.matchMedia(`(max-width:${r[0]}px) and (max-width:${r[1]}px)`)}this.mediaHandler(t,e),t.addEventListener("change",(t=>this.mediaHandler(t,e)))}))}}mediaHandler(e,t){if(e.matches){t.activeOpenner.length>0&&t.activeOpenner.forEach((e=>{this.openOpenner(e,!1)})),t.oneSpoller&&0==t.activeOpenner.length&&this.openOpenner(t.openner[0],!1);const e=t.element.querySelectorAll("[data-spoller-openner]:not(.-open)");e.length>0&&e.forEach((e=>{this.hideOpenner(e,!1)})),t.openner.length>0&&t.openner.forEach((e=>{e.obj=t,e.thisClass=this,e.addEventListener("click",this.actionOpenner)}))}else t.openner.length>0&&t.openner.forEach((e=>{this.openOpenner(e,!1),e.classList.remove("-open"),e.removeEventListener("click",this.actionOpenner)}))}actionOpenner(e){e.preventDefault();const t=e.currentTarget,r=t.obj,s=t.thisClass;0==r.element.querySelectorAll("[data-spoller-body].-anim").length&&(t.classList.contains("-open")?r.oneSpoller||s.hideOpenner(t):(s.openOpenner(t),r.oneSpoller&&(r.openner.length>0&&r.openner.forEach((e=>{s.hideOpenner(e)})),t.classList.add("-open"))))}openOpenner(e,t=!0){e.classList.add("-open");const r=e.closest("[data-spoller-item]").querySelector("[data-spoller-body]");t?slideDown(r):slideDown(r,0)}hideOpenner(e,t=!0){e.classList.remove("-open");const r=e.closest("[data-spoller-item]").querySelector("[data-spoller-body]");t?slideUp(r):slideUp(r,0)}}const spoller=new Spoller;spoller.init();class ValidateForm{constructor(e,t){this.form=e,this.options=t,this.init()}init(){this.form&&this.form.addEventListener("submit",this.formSend.bind(null,this))}async formSend(e,t){if(t.preventDefault(),0===e.validateForm()){const t=e.form,r=e.options;new FormData(t);t.classList.add("-sending");if((await fetch(r.url,{method:r.method})).ok){console.log("SEND"),t.reset();const r=e.form.querySelectorAll("input[data-value], textarea[data-value]");r.length>0&&r.forEach((e=>{e.resetPlaceholder()}));for(let t in e.options.validate){const r=t,s=e.options.validate[t];"select"==r&&s.length>0&&s.forEach((e=>e.reset()))}t.classList.remove("-sending")}else t.classList.remove("-sending"),console.log("ERROR")}else console.log("EMPTLY")}validateForm(){let e=0;for(let t in this.options.validate){const r=t,s=this.options.validate[t];if("input"==r&&s.length>0&&s.forEach((t=>{t.classList.remove("-error"),t.classList.contains("-email")&&this.emailTest(t)&&(t.classList.add("-error"),e++),t.classList.contains("-tel")&&this.telTest(t)&&(t.classList.add("-error"),e++)})),"select"==r&&s.length>0&&s.forEach((t=>{t.classList.remove("-error"),t.classList.contains("-no-choose")&&(t.classList.add("-error"),e++)})),"checkbox"==r&&s.length>0){s.forEach((e=>e.classList.remove("-error")));const t=Array.from(s).filter((e=>!1===e.checked));t.length>0&&t.forEach((t=>{t.classList.add("-error"),e++}))}if("radio"==r&&s.length>0){const t=[],r=[];for(let e=0;e<s.length;e++){const t=s[e];r.push(t.name)}const o=Array.from(new Set(r));for(let e=0;e<o.length;e++){const r=o[e],n=Array.from(s).filter((e=>e.name==r));t.push({radioElements:n})}t.forEach((t=>{const r=t.radioElements;r.forEach((e=>e.classList.remove("-error")));0==r.filter((e=>e.checked)).length&&r.forEach((t=>{t.classList.add("-error"),e++}))}))}}return e}emailTest(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}telTest(e){return!/^((8|\+7)[\- ]?)?(\(?\d{3,4}\)?[\- ]?)?[\d\- ]{5,10}$/.test(e.value)}}class InputPlaceholder{init(){if(this.objects=[],this.elements=document.querySelectorAll("[data-value]"),this.elements.length>0){for(let e=0;e<this.elements.length;e++){const t=this.elements[e],r=[];r.input=t,r.valuePlaceholder=t.dataset.value,this.objects.push(r)}this.objects.forEach((e=>{this.setPlaceholder(e.input,e.valuePlaceholder),e.input.thisClass=this,e.input.resetPlaceholder=()=>this.setPlaceholder(e.input,e.valuePlaceholder)}))}}setPlaceholder(e,t){""==e.value&&(e.placeholder=t),e.addEventListener("focus",(()=>e.placeholder="")),e.addEventListener("blur",(()=>{""==e.value&&(e.placeholder=t)}))}}const inputPlaceholder=new InputPlaceholder;function DynamicAdapt(e){this.type=e}inputPlaceholder.init(),DynamicAdapt.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],r=t.dataset.da.trim().split(","),s={};s.element=t,s.parent=t.parentNode,s.destination=document.querySelector(r[0].trim()),s.breakpoint=r[1]?r[1].trim():"767",s.place=r[2]?r[2].trim():"last",s.index=this.indexInParent(s.parent,s.element),this.оbjects.push(s)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,r){return Array.prototype.indexOf.call(r,e)===t}));for(let t=0;t<this.mediaQueries.length;t++){const r=this.mediaQueries[t],s=String.prototype.split.call(r,","),o=window.matchMedia(s[0]),n=s[1],i=Array.prototype.filter.call(this.оbjects,(function(e){return e.breakpoint===n}));o.addListener((function(){e.mediaHandler(o,i)})),this.mediaHandler(o,i)}},DynamicAdapt.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const r=t[e];r.index=this.indexInParent(r.parent,r.element),this.moveTo(r.place,r.element,r.destination)}else for(let e=0;e<t.length;e++){const r=t[e];r.element.classList.contains(this.daClassname)&&this.moveBack(r.parent,r.element,r.index)}},DynamicAdapt.prototype.moveTo=function(e,t,r){t.classList.add(this.daClassname),"last"===e||e>=r.children.length?r.insertAdjacentElement("beforeend",t):"first"!==e?r.children[e].insertAdjacentElement("beforebegin",t):r.insertAdjacentElement("afterbegin",t)},DynamicAdapt.prototype.moveBack=function(e,t,r){t.classList.remove(this.daClassname),void 0!==e.children[r]?e.children[r].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},DynamicAdapt.prototype.indexInParent=function(e,t){const r=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(r,t)},DynamicAdapt.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))};const da=new DynamicAdapt("max");da.init();const body=document.querySelector("body"),isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function actionDocument(e){const t=e.target;if(t.closest(".menu__arrow")&&window.innerWidth>767.98){const e=t.closest(".menu__link");e.classList.toggle("-active"),e.nextElementSibling.classList.toggle("-open")}if(!t.closest(".menu__arrow")){const e=document.querySelectorAll(".menu__item_submenu .menu__link");e.length>0&&e.forEach((e=>{e.classList.remove("-active"),e.nextElementSibling.classList.remove("-open")}))}if(t.closest(".search-header__icon")){const e=document.querySelector(".menu");e&&e.classList.contains("-open")&&(document.querySelector(".burger-header").classList.remove("-active"),document.querySelector(".header__wrapper").classList.remove("-active"),e.classList.remove("-open"),body.classList.remove("-lock"));t.closest(".search-header__icon").classList.toggle("-open"),document.querySelector(".header__wrapper").classList.toggle("-active"),document.querySelector(".search-header__wrap").classList.toggle("-open"),body.classList.toggle("-lock")}if(t.closest(".burger-header")){const e=document.querySelector(".search-header__wrap");e&&e.classList.contains("-open")&&(document.querySelector(".search-header__icon").classList.remove("-open"),document.querySelector(".header__wrapper").classList.remove("-active"),e.classList.remove("-open"),body.classList.remove("-lock"));t.closest(".burger-header").classList.toggle("-active"),document.querySelector(".header__wrapper").classList.toggle("-active"),document.querySelector(".menu").classList.toggle("-open"),body.classList.toggle("-lock")}if(t.closest(".load-product-btn")){e.preventDefault();const r=t.closest(".load-product-btn");r.classList.contains("-hold")||(r.classList.add("-hold"),loadProduct(r))}if(t.closest(".btn-cart")){e.preventDefault(),t.classList.add("-hold");const r=t.closest(".product").dataset.pid;updateCart(t,r)}if(!t.closest(".btn-cart")&&!t.closest(".cart__body")&&!t.closest(".cart__icon")){document.querySelector(".cart__body").classList.remove("-open")}if(t.closest(".cart__delete")){e.preventDefault();const r=t.closest(".cart__item").dataset.cartpid;updateCart(t,r,!1)}if(t.closest(".cart__icon")){if(e.preventDefault(),document.querySelector(".cart__item")){document.querySelector(".cart__body").classList.toggle("-open")}const t=document.querySelector(".search-header__wrap");t&&t.classList.contains("-open")&&(document.querySelector(".search-header__icon").classList.remove("-open"),document.querySelector(".header__wrapper").classList.remove("-active"),t.classList.remove("-open"),body.classList.remove("-lock"));const r=document.querySelector(".menu");r&&r.classList.contains("-open")&&(document.querySelector(".burger-header").classList.remove("-active"),document.querySelector(".header__wrapper").classList.remove("-active"),r.classList.remove("-open"),body.classList.remove("-lock"))}}function updateCart(e,t,r=!0){const s=document.querySelector(".cart__icon"),o=s.querySelector("span"),n=document.querySelector(`[data-cartpid="${t}"]`);if(r){if(o?o.innerHTML=++o.innerHTML:s.insertAdjacentHTML("beforeend","<span>1</span>"),n){const e=n.querySelector(".cart__quantity span");e.innerHTML=++e.innerHTML}else{const e=document.querySelector(".cart__items"),r=document.querySelector(`[data-pid="${t}"]`),s=`\n         <li class="cart__item" data-cartpid="${t}">\n            <a href="" class="cart__image -ai">${r.querySelector(".product__image").innerHTML}</a>\n            <div class="cart__content">\n               <a href="" class="cart__title">${r.querySelector(".product__title").innerHTML}</a>\n               <div class="cart__quantity">Quality <span>1</span></div>\n               <a href="" class="cart__delete">Delete</a>\n            </div>\n         </li>`;e.insertAdjacentHTML("beforeend",s)}e.classList.remove("-hold")}else{if(1==+o.innerHTML){o.remove();document.querySelector(".cart__body").classList.remove("-open")}const e=n.querySelector(".cart__quantity span");1==+e.innerHTML?n.remove():e.innerHTML=--e.innerHTML,o.innerHTML=--o.innerHTML}}async function loadProduct(e){const t=await fetch("./json/loadProduct.json",{method:"GET"});if(t.ok){addProduct(await t.json()),e.classList.remove("-hold"),e.remove()}}function addProduct(e){e.products.forEach((e=>{const t=`<div class="products__body product" data-pid="${e.id}">`,r=`\n      <div class="product__hover hover-product">\n         <div class="hover-product__body">\n            <a href="" class="hover-product__btn btn-cart -btn -btn_white">Add to cart</a>\n            <div class="hover-product__actions">\n               <a href="${e.urlShare}" class="hover-product__link hover-product__link_share">\n                  <span class="-icon-share"></span>\n                  Share\n               </a>\n               <a href="${e.urlLike}" class="hover-product__link hover-product__link_favourite">\n                  <span class="-icon-favourites"></span>\n                  Like\n               </a>\n            </div>\n         </div>\n      </div>`,s="</div>",o=`<a href="${e.url}" class="product__link"></a>`,n=`<div class="product__image -ai"><img src="${e.image}" alt=""></div>`;let i="";if(e.labels&&e.labels.length>0){const t='<div class="product__labels">',r="</div>";let s="";for(let t=0;t<e.labels.length;t++){const r=e.labels[t];s+=`<div class="product__label product__label_${r.type}">${r.text}</div>`}i=t+s+r}const a='<div class="product__preview">'+o+n+i+s,l=`<a href="${e.url}" class="product__title">${e.title}</a>`,c=`<div class="product__text">${e.text}</div>`,d=`<span class="product__price product__price_current">${e.price}</span>`;let p="";e.priceOld&&(p+=`<span class="product__price product__price_old">${e.priceOld}</span>`);const u=t+r+a+('<div class="product__content">'+l+c+('<div class="product__prices">'+d+p+"</div>")+"</div>")+s,m=document.querySelector(".products__row");m&&m.insertAdjacentHTML("beforeend",`<div class="products__col">${u}</div>`)}))}isMobile.any()?body.classList.add("-touch"):body.classList.add("-mouse"),document.addEventListener("click",actionDocument);const mainSlider=new Swiper(".main-slider-slider",{navigation:{nextEl:".main-slider-button_next",prevEl:".main-slider-button_prev"},pagination:{el:".main-slider-pagination",clickable:!0},simulateTouch:!1,watchOverflow:!1,spaceBetween:32,parallax:!0,speed:600}),headerElement=document.querySelector(".header"),callback=function(e,t){e[0].isIntersecting?headerElement.classList.remove("-scroll"):headerElement.classList.add("-scroll")},headerObserver=new IntersectionObserver(callback);headerObserver.observe(headerElement);const sliderInspirations=new Swiper(".slider-inspirations__body",{navigation:{nextEl:".slider-inspirations__arrow_next",prevEl:".slider-inspirations__arrow_prev"},pagination:{el:".slider-inspirations__pagination",clickable:!0},watchOverflow:!1,slidesPerView:"auto",loop:!0,loopAdditionalSlides:5,parallax:!0,speed:600,simulateTouch:!1,breakpoints:{0:{spaceBetween:15},991.98:{spaceBetween:24}}}),sliderTips=new Swiper(".slider-tips__body",{navigation:{nextEl:".slider-tips__arrow_next",prevEl:".slider-tips__arrow_prev"},pagination:{el:".slider-tips__pagination",clickable:!0},simulateTouch:!1,slidesPerView:3,speed:600,watchOverflow:!1,autoHeight:!0,breakpoints:{0:{slidesPerView:1},767.98:{slidesPerView:2,spaceBetween:26},1100:{slidesPerView:3,spaceBetween:32}}}),furniture=document.querySelector(".furniture__body");if(furniture&&!isMobile.any()){const e=document.querySelector(".furniture__items"),t=document.querySelectorAll(".furniture__col"),r=furniture.dataset.speed;let s=0,o=0;function setMouseGalleryStyle(){let n=0;t.forEach((e=>{n+=e.offsetWidth}));const i=n-furniture.offsetWidth,a=Math.floor(o-s);s+=a*r;let l=i/200*s;e.style.cssText=`transform: translate3d(${-l}px,0,0);`,Math.abs(a)>0?requestAnimationFrame(setMouseGalleryStyle):furniture.classList.remove("-init")}furniture.addEventListener("mousemove",(e=>{const t=furniture.offsetWidth,r=e.pageX-t/2;o=r/t*200,furniture.classList.contains("-init")||(requestAnimationFrame(setMouseGalleryStyle),furniture.classList.add("-init"))}))}const form=document.querySelector(".subscribe-footer");form&&new ValidateForm(form,{method:"GET",url:"",validate:{input:form.querySelectorAll("input.-req, textarea.-req")}}),lightGallery(document.querySelector(".furniture__items"),{selector:".row-furniture__item"});